# import os
#
# list = ["export GOBIN=`go env GOPATH`/bin && export PATH=$PATH:$GOBIN", "&&"]
# newlist = list[:]
# hash = ["vt", "scan", "file", "~/Desktop/whatami"]
#
# newlist.extend(hash)
# #newlist.append("vt")
#
# komenda = ' '.join([str(elem) for elem in newlist])
# wynik = os.system(komenda)
# print (wynik)

#os.system("export GOBIN=`go env GOPATH`/bin && export PATH=$PATH:$GOBIN")
#os.system("export PATH=$PATH:$GOBIN")
#os.system("vt an OTdjY2FjMTk5Yjg4OTMzODBlMTRiMDU4MzU5NmFiYjY6MTY0ODkxNjcwNw== -i=status")


#
import subprocess
#
list = ["export GOBIN=`go env GOPATH`/bin && export PATH=$PATH:$GOBIN", "&&"]
newlist = list[:]
hash = ['vt', 'scan', 'file', '~/Desktop/whatami']
newlist.extend(hash)
newlist.append("vt")
komenda = ' '.join([str(elem) for elem in newlist])
#
proces = subprocess.Popen(komenda, stdout=subprocess.PIPE ,shell=True, text=True)
file_hash, execute_nr = proces.communicate()
print(file_hash)
#jest git kwestia jeszcze tylko z tego usunac polozenie pliku i bedzie tylko hash

hash = "OTdjY2FjMTk5Yjg4OTMzODBlMTRiMDU4MzU5NmFiYjY6MTY0ODkyODg4Mw=="
analiza = ["vt", "an"]
analiza.append(hash)
newlist.extend(analiza)
newlist.append("-i=status")
komenda = ' '.join([str(elem) for elem in newlist])
proces = subprocess.Popen(komenda, stdout=subprocess.PIPE ,shell=True, text=True)
status, nr = proces.communicate()
print(status)
#gotowa funkcja sprawdzajaca czy juz wykonal sie skan
